!function(t,e){if("function"==typeof define&&define.amd)define(["d3"],e);else if("function"==typeof require&&module.exports){var n=require("d3");module.exports=n.tip=e(n)}else t.d3.tip=e(t.d3)}(this,function(t){return function(){function e(t){w=m(t),T=w.createSVGPoint(),document.body.appendChild(v)}function n(){return"n"}function r(){return[0,0]}function o(){return" "}function i(){var t=d();return{top:t.n.y-v.offsetHeight,left:t.n.x-v.offsetWidth/2}}function l(){var t=d();return{top:t.s.y,left:t.s.x-v.offsetWidth/2}}function s(){var t=d();return{top:t.e.y-v.offsetHeight/2,left:t.e.x}}function f(){var t=d();return{top:t.w.y-v.offsetHeight/2,left:t.w.x-v.offsetWidth}}function u(){var t=d();return{top:t.nw.y-v.offsetHeight,left:t.nw.x-v.offsetWidth}}function a(){var t=d();return{top:t.ne.y-v.offsetHeight,left:t.ne.x}}function c(){var t=d();return{top:t.sw.y,left:t.sw.x-v.offsetWidth}}function p(){var t=d();return{top:t.se.y,left:t.e.x}}function y(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function m(t){return t=t.node(),"svg"==t.tagName.toLowerCase()?t:t.ownerSVGElement}function d(){var e=b||t.event.target,n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,l=o.height,s=o.x,f=o.y;return T.x=s,T.y=f,n.nw=T.matrixTransform(r),T.x+=i,n.ne=T.matrixTransform(r),T.y+=l,n.se=T.matrixTransform(r),T.x-=i,n.sw=T.matrixTransform(r),T.y-=l/2,n.w=T.matrixTransform(r),T.x+=i,n.e=T.matrixTransform(r),T.x-=i/2,T.y-=l/2,n.n=T.matrixTransform(r),T.y+=l,n.s=T.matrixTransform(r),n}var g=n,h=r,x=o,v=y(),w=null,T=null,b=null;e.show=function(){var n=Array.prototype.slice.call(arguments);n[n.length-1]instanceof SVGElement&&(b=n.pop());var r,o=x.apply(this,n),i=h.apply(this,n),l=g.apply(this,n),s=t.select(v),f=H.length,u=document.documentElement.scrollTop||document.body.scrollTop,a=document.documentElement.scrollLeft||document.body.scrollLeft;for(s.html(o).style({opacity:1,"pointer-events":"all"});f--;)s.classed(H[f],!1);return r=E.get(l).apply(this),s.classed(l,!0).style({top:r.top+i[0]+u+"px",left:r.left+i[1]+a+"px"}),e},e.hide=function(){return nodel=t.select(v),nodel.style({opacity:0,"pointer-events":"none"}),e},e.attr=function(n){if(arguments.length<2&&"string"==typeof n)return t.select(v).attr(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(t.select(v),r),e},e.style=function(n){if(arguments.length<2&&"string"==typeof n)return t.select(v).style(n);var r=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(t.select(v),r),e},e.direction=function(n){return arguments.length?(g=null==n?n:t.functor(n),e):g},e.offset=function(n){return arguments.length?(h=null==n?n:t.functor(n),e):h},e.html=function(n){return arguments.length?(x=null==n?n:t.functor(n),e):x};var E=t.map({n:i,s:l,e:s,w:f,nw:u,ne:a,sw:c,se:p}),H=E.keys();return e}});